---
#Profiles::base
profiles::base::motd: |
  * * * * * * * * * W A R N I N G * * * * * * * * * * *
  This system is restricted to authorized users for
  authorized use only. Unauthorized access is strictly
  prohibited and may be punishable under the Computer
  Fraud and Abuse Act of 1984 or other applicable laws.
  All persons are hereby notified that the use of this
  system constitutes consent to monitoring and auditing.
  * * * * * * * * * * * * * * * * * * * * * * * * * * *
#Profiles::RSYSLOG
profiles::rsyslog::remote_servers:
  - host: "logm-pci-us.%{::domain}"
    port: "514"
    pattern: "*.*"
    protocol: "tcp"
  - host: "logm-pci-kr.%{::domain}"
    port: "514"
    pattern: "*.*"
    protocol: "tcp"
#Profiles::NTP
profiles::ntp::servers: &id001
  - 'ntp1.us.cdngp.net'
  - 'ntp2.us.cdngp.net'
  - 'ntp1.kr.cdngp.net'
  - 'ntp2.kr.cdngp.net'
profiles::ntp::restrict:
  - 'default kod nomodify notrap nopeer noquery'
  - '-6 default kod nomodify notrap nopeer noquery'
  - '127.0.0.1'
  - '-6 ::1'
  - *id001
#Profiles::SNMP
#profiles::snmp::ro_community: use secure eyaml
profiles::snmp::sys_contact: 'infra-sys@cdnetworks.com'
profiles::snmp::sys_location: 'Unknown'
profiles::snmp::sys_services: 72
profiles::snmp::sys_name: "%{::fqdn}"
#profiles::snmp::snmpv3_user: use secure.eyaml
ssh::storeconfigs_enables: true
ssh::server_options:
    Protocol: '2'
    Port:
      - '2113'
    SyslogFacility: 'AUTHPRIV'
    PermitRootLogin: 'no'
    PasswordAuthentication: 'no'
    ChallengeResponseAuthentication: 'no'
    UsePAM: 'yes'
    UseDNS: 'no'
    AllowTcpForwarding: 'no'
    X11Forwarding: 'no'
    PrintMotd: 'yes'
    Subsystem: 'sftp /usr/lib/openssh/sftp-server'
    Match User deploy:
      PasswordAuthentication: 'yes'
